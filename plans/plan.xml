<plan start="WaitPeople">
    
    <behaviours>
        <behaviour name="DetectPeople" />
        <behaviour name="Voice" />
        <behaviour name="LineTracking" />
        <behaviour name="ObstacleAvoidance" />
        <behaviour name="DetectMarker" />
    </behaviours>
    
    <states>
        <state name="WaitPeople">
            <behaviours>
                <behaviour name="DetectPeople" />
            </behaviours>
            <transitions>
                <transition expression="DetectPeople=detected" nextstate="Welcome" />
            </transitions>
        </state>
        
        <state name="Welcome">
            <behaviours>
                <behaviour name="Voice" arguments="welcome.wav"/>
            </behaviours>
            <transitions>
                <transition expression="Voice=finished" nextstate="FindMarker" />
            </transitions>
        </state>
        
        <state name="FindMarker">
            <behaviours>
                <behaviour name="LineTracking" />
                <behaviour name="ObstacleAvoidance" />
                <behaviour name="DetectMarker" />
            </behaviours>
            <transitions>
                <transition expression="DetectMarker=standartmarker" nextstate="Explain" />
                <transition expression="DetectMarker=endmarker" nextstate="Finish" />
            </transitions>
        </state>
        
        <state name="Explain">
            <behaviours>
                <behaviour name="Voice" arguments="hello.wav"/>
            </behaviours>
            <transitions>
                <transition expression="Voice=finished" nextstate="FindMarker" />
            </transitions>
        </state>
    
        <state name="Finish">
            <behaviours>
                <behaviour name="Voice" arguments="welcome.wav"/>
            </behaviours>
            <transitions>
                <transition expression="Voice=finished" nextstate="FindMarker" />
            </transitions>
        </state>
        
    </states>

</plan>
